<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .lightgray {
        background: lightgray;
      }
    </style>
  </head>
  <body>
    <h1>회원 정보 입력하기</h1>
    <form name="memberInfo">
      <!--이름 입력-->
      <label for="username">이름 : </label>
      <input type="text" name="username" value="김시은" />
      <br /><br />
      <!--취미 선택-->
      <label>취미 : </label>
      <ul id="hobbies">
        <li>
          <input type="checkbox" name="hobby" value="baseball" /><label
            >야구</label
          >
        </li>
        <li>
          <input type="checkbox" name="hobby" value="swim" /><label>수영</label>
        </li>
        <li>
          <input type="checkbox" name="hobby" value="football" /><label
            >축구</label
          >
        </li>
        <li>
          <input type="checkbox" name="hobby" value="running" /><label
            >러닝</label
          >
        </li>
      </ul>

      <!--자기 소개 입력-->
      <br /><br />
      <label>자기소개</label>
      <textarea
        name="introduce"
        id="introduce"
        rows="5"
        cols="30"
        style="resize: none"
      >
      </textarea>
      <span>0</span>/500자 <br /><br />

      <input type="submit" name="submit" value="제출" />
    </form>
    <script>
      // 1. 이름 입력창을 클릭할 때 value 값을 박천재로 변경하기
      // 2. 취미에서 체크한 요소들의 배경색을 ligthgray로 변경
      // 3. 자기소개에 글을 쓰면 textarea의 배경색 변경하기
      // 4. 글자 수 세기, 공백 제외

      // 1. 이름 입력창을 클릭할 때 value 값을 박천재로 변경하기
      const $form = document.forms.memberInfo;
      const $username = $form.username;
      $username.addEventListener("click", () => {
        $username.value = "박천재";
      });

      // 2. 취미에서 체크한 요소들의 배경색을 ligthgray로 변경
      const $hobby = $form.querySelectorAll("input[name=hobby]");
      const $hobbies = document.getElementById("hobbies");
      const $list = $hobbies.getElementsByTagName("li");
      console.log($hobbies);
      $hobby.forEach((checkbox, index) => {
        checkbox.addEventListener("change", (e) => {
          if (checkbox.checked) {
            $list[index].classList.add("lightgray");
          } else {
            $list[index].classList.remove("lightgray");
          }
        });
      });

      // 3. 자기소개에 글을 쓰면 textarea의 배경색 변경하기
      // 4. 글자 수 세기, 공백 제외
      $introduce = $form.introduce;
      $introduce.oninput = (e) => {
        e.target.classList.add("lightgray");
        let len = e.target.value.trim().length;
        $form.querySelector("span").textContent = len;
      };
    </script>
  </body>
</html>
