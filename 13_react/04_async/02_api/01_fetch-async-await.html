<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      async function callAPI() {
        // fetch의 반환값은 Promise 객체이다.
        // Promise는 값을 수정하거나 접근하는 것이 불가능
        const promise = fetch("https://jsonplaceholder.typicode.com/users");
        console.log(promise);
        // Promise 객체의 [[PromiseResult]] property에 접근
        console.log(promise["[[PromiseResult]]"]);

        // 따라서 비동기 동작이 끝나고 응답값을 불러와서 원하는대로 값을 꺼내거나 조작한다.
        const response = await fetch(
          "https://jsonplaceholder.typicode.com/users"
        );
        console.log(response);

        // const responseText = await response.text();
        // console.log(responseText);

        // 참고로 응답값을 한번 불러오면 두번은 불러오지 못한다.
        console.log(`본문 내용 사용 여부 : ${response.bodyUsed}`);
        const responseJson = await response.json();
        console.log(responseJson);
        console.log(`본문 내용 사용 여부 : ${response.bodyUsed}`);
      }

      callAPI();
    </script>
  </body>
</html>
